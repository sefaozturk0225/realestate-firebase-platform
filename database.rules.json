{
  "rules": {
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ðŸ”’ FIREBASE REALTIME DATABASE SECURITY RULES - Optimized
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    // Projeler - Herkes okuyabilir, sadece admin yazabilir
    "projects": {
      ".read": true,
      ".write": "auth != null && auth.token.email.matches(/.*@bzkyapi\\.com$/)",
      "$projectId": {
        ".validate": "newData.hasChildren(['name', 'description', 'status', 'createdAt'])",
        "name": {
          ".validate": "newData.isString() && newData.val().length > 0 && newData.val().length <= 100"
        },
        "description": {
          ".validate": "newData.isString() && newData.val().length <= 1000"
        },
        "status": {
          ".validate": "newData.isString() && (newData.val() == 'ongoing' || newData.val() == 'completed')"
        },
        "location": {
          ".validate": "newData.isString() && newData.val().length <= 200"
        },
        "images": {
          ".validate": "newData.hasChildren()",
          "$imageIndex": {
            ".validate": "newData.isString() && (newData.val().matches(/^https?:\\/\\/.+/) || newData.val().matches(/^data:image/))"
          }
        },
        "createdAt": {
          ".validate": "newData.isNumber()"
        },
        "updatedAt": {
          ".validate": "newData.isNumber()"
        },
        "$other": {
          ".validate": false
        }
      }
    },
    
    // Teklif Ä°stekleri - Herkes yazabilir, sadece admin okuyabilir
    "inquiries": {
      ".read": "auth != null && auth.token.email.matches(/.*@bzkyapi\\.com$/)",
      ".write": true,
      "$inquiryId": {
        ".validate": "newData.hasChildren(['name', 'email', 'phone', 'message', 'createdAt'])",
        "name": {
          ".validate": "newData.isString() && newData.val().length > 0 && newData.val().length <= 100"
        },
        "email": {
          ".validate": "newData.isString() && newData.val().matches(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/)"
        },
        "phone": {
          ".validate": "newData.isString() && newData.val().length >= 10 && newData.val().length <= 20"
        },
        "message": {
          ".validate": "newData.isString() && newData.val().length <= 2000"
        },
        "createdAt": {
          ".validate": "newData.isNumber() && newData.val() <= now"
        },
        "status": {
          ".validate": "!newData.exists() || (newData.isString() && (newData.val() == 'new' || newData.val() == 'contacted' || newData.val() == 'closed'))"
        },
        "$other": {
          ".validate": false
        }
      }
    },
    
    // Ä°letiÅŸim Bilgileri - Herkes okuyabilir, sadece admin yazabilir
    "contact_info": {
      ".read": true,
      ".write": "auth != null && auth.token.email.matches(/.*@bzkyapi\\.com$/)",
      ".validate": "newData.hasChildren(['phone', 'email', 'address'])",
      "phone": {
        ".validate": "newData.isString() && newData.val().length >= 10"
      },
      "email": {
        ".validate": "newData.isString() && newData.val().matches(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/)"
      },
      "address": {
        ".validate": "newData.isString() && newData.val().length <= 500"
      },
      "whatsapp": {
        ".validate": "!newData.exists() || (newData.isString() && newData.val().length >= 10)"
      },
      "workingHours": {
        ".validate": "!newData.exists() || (newData.isString() && newData.val().length <= 200)"
      },
      "$other": {
        ".validate": false
      }
    },
    
    // HakkÄ±mÄ±zda - Herkes okuyabilir, sadece admin yazabilir
    "about_content": {
      ".read": true,
      ".write": "auth != null && auth.token.email.matches(/.*@bzkyapi\\.com$/)"
    },
    
    // DiÄŸer her ÅŸeyi engelle
    "$other": {
      ".read": false,
      ".write": false
    }
  }
}
